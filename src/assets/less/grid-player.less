.player {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: var(--icon-size) auto var(--icon-size) auto calc(var(--icon-size)*1.5) calc(var(--icon-size)*3) auto;
    grid-gap: var(--grid-gap);
    padding: var(--padding);
    color: fadeout(@dark-color, 20%);
    &.bkg {
        position: relative;
        padding: 0;
        z-index: -1;
        overflow: hidden;
        background-color: fadeout(@light-color, 20%);
        img {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;            
            filter: blur(25px);
            transform: scale(1.2);
            opacity: .75;
        }
    }
    + section {
        z-index: 1;
    }
    &.share,
    &.rate,
    &.description,
    &.contents {
        position: relative;
        display: grid;
        // grid-template-columns: 1fr;
        grid-template-rows: var(--icon-size) auto;
        overflow: hidden;
        will-change: opacity, transform;
        .player-header {
            grid-template-columns: auto var(--icon-size);
        }
        > :last-child {
            overflow-y: auto;
            grid-column: 1~"/"2;
        }
    }
    .player-header {
        display: grid;
        grid-template-columns: auto repeat(2, var(--icon-size));
        grid-auto-rows: var(--icon-size);
        grid-gap: var(--grid-gap);
        grid-column: 1~"/"2;
        grid-row: 1~"/"2;
    }
    .player-progress {
        display: grid;
        margin-top: auto;
        grid-column: 1~"/"2;
        grid-row: 2~"/"3;
        grid-auto-rows: var(--icon-size);
        > * {
            grid-column: 1~"/"2;
            grid-row: 1~"/"2;
        }
        .player-range {
            align-self: center;
            margin-top: calc(var(--key-rem) * -1);
            height: var(--range-height);
            background-color: currentColor;
        }
    }
    .player-speed {
        display: grid;
        grid-template-columns: var(--icon-size) auto;
        grid-auto-rows: var(--icon-size);
        grid-column: 1~"/"2;
        grid-row: 3~"/"4;
        justify-self: center;
        > * {
            grid-column: 1~"/"2;
            grid-row: 1~"/"2;
        }
    }
    .player-cover {
        position: relative;
        grid-column: 1~"/"2;
        grid-row: 4~"/"5;
        display: grid;
        .vinyl {
            position: relative;
            display: grid;
            align-self: center;
            grid-column: 1~"/"2;
            grid-row: 1~"/"2;
            &::before {
                position: absolute;
                content: "";
                left: 0;
                top: 0;
                right: 0;
                bottom: 0;
                background: radial-gradient(circle, @dark-color 20%, fadeout(@light-color, 80%) 20%, fadeout(@light-color, 80%) 25%, @dark-color 25%, transparent calc(25% + 2px));
                z-index: 1;
            }
        }
        .rewind-back,
        .play,
        .pause,
        .rewind-front {
            grid-column: 1~"/"2;
            grid-row: 1~"/"2;
            z-index: 1;
        }
        .rewind-back {
            margin: auto auto auto calc((50% - ((25% + 2px + var(--padding)*2)/3*2))/2);
            width: calc((25% + var(--padding)*2)/3*2);
            transform: translate(-50%);
        }
        .play,
        .pause {
            margin: auto;
            width: calc(25% + var(--padding)*2);
        }
        .rewind-front {
            margin: auto calc((50% - ((25% + 2px + var(--padding)*2)/3*2))/2) auto auto;
            width: calc((25% + var(--padding)*2)/3*2);
            transform: translate(+50%);
        }
    }
    .player-part {
        display: grid;
        grid-template-columns: calc(var(--icon-size)*1.5) auto calc(var(--icon-size)*1.5);
        grid-auto-rows: calc(var(--icon-size)*1.5);
        grid-gap: var(--grid-gap);
        grid-column: 1~"/"2;
        grid-row: 5~"/"6;
        :first-child {
            grid-column: 1~"/"2;
        }
        :last-child {
            grid-column: 3~"/"4;
        }
    }
    .player-menu {
        display: grid;
        grid-template-columns: auto var(--icon-size) auto var(--icon-size) auto var(--icon-size) auto var(--icon-size) auto var(--icon-size) auto;
        grid-auto-rows: var(--icon-size);
        grid-column: 1~"/"2;
        grid-row: 6~"/"7;
        padding: var(--padding);
        align-self: center;
    }
}

@media screen and (orientation: landscape) and (max-width: @media-breakpoint-lg - .01),
screen and (orientation: portrait) and (min-width: 768px) {
    .player {
        grid-template-columns: 2fr 3fr;
        grid-template-rows: var(--icon-size) auto var(--icon-size) auto;
        &.share,
        &.rate,
        &.description,
        &.contents {
            > :last-child {
                grid-column: 1~"/"3;
            }
        }
        .player-header {
            grid-column: 1~"/"3;
            grid-row: 1~"/"2;
        }
        .player-progress {
            grid-column: 2~"/"3;
            grid-row: 2~"/"3;
        }
        .player-speed {
            grid-column: 2~"/"3;
            grid-row: 3~"/"4;
        }
        .player-cover {
            grid-column: 1~"/"2;
            grid-row: 2~"/"6;
        }
        .player-part {
            margin-top: auto;
            grid-column: 2~"/"3;
            grid-row: 4~"/"5;
        }
        .player-menu {
            grid-column: 2~"/"3;
            grid-row: 5~"/"6;
        }
    
    }
}